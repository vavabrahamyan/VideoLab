import{$a as N,Aa as l,Cb as Me,Db as oe,Ea as y,Eb as _,Fa as x,Ga as me,Ha as ve,Ia as R,L as F,M as D,Na as O,Oa as E,Pa as A,Qa as k,Ra as z,Sa as ye,Ta as be,Ua as a,Va as u,Wa as g,X as f,Xa as w,Y as m,Ya as p,Z as B,Za as C,_ as W,_a as L,ab as Pe,bb as Z,cb as j,db as $,e as ce,ea as U,eb as Q,fb as S,gb as ke,h as te,ha as he,hb as se,ia as pe,ib as X,ja as P,jb as Ce,ka as G,kb as _e,lb as Ve,mb as we,nb as Se,ob as Ee,p as ue,q as de,rb as ne,sa as ge,u as c,ua as fe,ub as re,v as ie,va as M,vb as De,wa as v}from"./chunk-4QLTE4WF.js";var ze=["*"],h=(()=>{class s{static{this.VG_ENDED="ended"}static{this.VG_PAUSED="paused"}static{this.VG_PLAYING="playing"}static{this.VG_LOADING="waiting"}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),b=(()=>{class s{constructor(){this.medias={},this.playerReadyEvent=new U(!0),this.isPlayerReady=!1}onPlayerReady(e){this.fsAPI=e,this.isPlayerReady=!0,this.playerReadyEvent.emit(this)}getDefaultMedia(){for(let e in this.medias)if(this.medias[e])return this.medias[e]}getMasterMedia(){let e;for(let t in this.medias)if(this.medias[t].vgMaster==="true"||this.medias[t].vgMaster===!0){e=this.medias[t];break}return e||this.getDefaultMedia()}isMasterDefined(){let e=!1;for(let t in this.medias)if(this.medias[t].vgMaster==="true"||this.medias[t].vgMaster===!0){e=!0;break}return e}getMediaById(e=null){let t=this.medias[e];return(!e||e==="*")&&(t=this),t}play(){for(let e in this.medias)this.medias[e]&&this.medias[e].play()}pause(){for(let e in this.medias)this.medias[e]&&this.medias[e].pause()}get duration(){return this.$$getAllProperties("duration")}set currentTime(e){this.$$setAllProperties("currentTime",e)}get currentTime(){return this.$$getAllProperties("currentTime")}set state(e){this.$$setAllProperties("state",e)}get state(){return this.$$getAllProperties("state")}set volume(e){this.$$setAllProperties("volume",e)}get volume(){return this.$$getAllProperties("volume")}set playbackRate(e){this.$$setAllProperties("playbackRate",e)}get playbackRate(){return this.$$getAllProperties("playbackRate")}get canPlay(){return this.$$getAllProperties("canPlay")}get canPlayThrough(){return this.$$getAllProperties("canPlayThrough")}get isMetadataLoaded(){return this.$$getAllProperties("isMetadataLoaded")}get isWaiting(){return this.$$getAllProperties("isWaiting")}get isCompleted(){return this.$$getAllProperties("isCompleted")}get isLive(){return this.$$getAllProperties("isLive")}get isMaster(){return this.$$getAllProperties("isMaster")}get time(){return this.$$getAllProperties("time")}get buffer(){return this.$$getAllProperties("buffer")}get buffered(){return this.$$getAllProperties("buffered")}get subscriptions(){return this.$$getAllProperties("subscriptions")}get textTracks(){return this.$$getAllProperties("textTracks")}seekTime(e,t=!1){for(let i in this.medias)this.medias[i]&&this.$$seek(this.medias[i],e,t)}$$seek(e,t,i=!1){let n,o=e.duration;i?(this.isMasterDefined()&&(o=this.getMasterMedia().duration),n=t*o/100):n=t,e.currentTime=n}addTextTrack(e,t,i){for(let n in this.medias)this.medias[n]&&this.$$addTextTrack(this.medias[n],e,t,i)}$$addTextTrack(e,t,i,n){e.addTextTrack(t,i,n)}$$getAllProperties(e){let t={},i;for(let o in this.medias)this.medias[o]&&(t[o]=this.medias[o]);switch(Object.keys(t).length){case 0:switch(e){case"state":i=h.VG_PAUSED;break;case"playbackRate":case"volume":i=1;break;case"time":i={current:0,total:0,left:0};break}break;case 1:let o=Object.keys(t)[0];i=t[o][e];break;default:let V=this.getMasterMedia();i=t[V.id][e]}return i}$$setAllProperties(e,t){for(let i in this.medias)this.medias[i]&&(this.medias[i][e]=t)}registerElement(e){this.videogularElement=e}registerMedia(e){this.medias[e.id]=e}unregisterMedia(e){delete this.medias[e.id]}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),I=(()=>{class s{constructor(){this.isHiddenSubject=new te,this.isHidden=this.isHiddenSubject.asObservable()}state(e){this.isHiddenSubject.next(e)}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),q=(()=>{class s{static getZIndex(){let e=1,t,i=document.getElementsByTagName("*");for(let n=0,o=i.length;n<o;n++)t=parseInt(window.getComputedStyle(i[n])["z-index"],10),t>e&&(e=t+1);return e}static isMobileDevice(){return typeof window.orientation<"u"||navigator.userAgent.indexOf("IEMobile")!==-1}static isiOSDevice(){return(navigator.userAgent.match(/ip(hone|ad|od)/i)||s.isIpadOS())&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)}static isIpadOS(){return navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}static isCordova(){return document.URL.indexOf("http://")===-1&&document.URL.indexOf("https://")===-1}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),H=(()=>{class s{constructor(){this.nativeFullscreen=!0,this.isFullscreen=!1,this.onChangeFullscreen=new U}init(e,t){this.videogularElement=e,this.medias=t;let i={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitendfullscreen",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(let o in i)if(i[o].enabled in document){this.polyfill=i[o];break}if(q.isiOSDevice()&&(this.polyfill=i.ios),this.isAvailable=this.polyfill!=null,this.polyfill==null)return;let n;switch(this.polyfill.onchange){case"mozfullscreenchange":n=document;break;case"webkitendfullscreen":n=this.medias.toArray()[0].elem;break;default:n=e}this.fsChangeSubscription=c(n,this.polyfill.onchange).subscribe(()=>{this.onFullscreenChange()})}onFullscreenChange(){this.isFullscreen=!!document[this.polyfill.element],this.onChangeFullscreen.emit(this.isFullscreen)}toggleFullscreen(e=null){return this.isFullscreen?this.exit():this.request(e)}request(e){return e||(e=this.videogularElement),this.isFullscreen=!0,this.onChangeFullscreen.emit(!0),this.isAvailable&&this.nativeFullscreen?q.isMobileDevice()?((!this.polyfill.enabled&&e===this.videogularElement||q.isiOSDevice())&&(e=this.medias.toArray()[0].elem),this.enterElementInFullScreen(e)):this.enterElementInFullScreen(this.videogularElement):Promise.resolve()}enterElementInFullScreen(e){return e[this.polyfill.request]()}exit(){return this.isFullscreen=!1,this.onChangeFullscreen.emit(!1),this.isAvailable&&this.nativeFullscreen?document[this.polyfill.exit]():Promise.resolve()}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})(),d=(()=>{class s{static{this.VG_ABORT="abort"}static{this.VG_CAN_PLAY="canplay"}static{this.VG_CAN_PLAY_THROUGH="canplaythrough"}static{this.VG_DURATION_CHANGE="durationchange"}static{this.VG_EMPTIED="emptied"}static{this.VG_ENCRYPTED="encrypted"}static{this.VG_ENDED="ended"}static{this.VG_ERROR="error"}static{this.VG_LOADED_DATA="loadeddata"}static{this.VG_LOADED_METADATA="loadedmetadata"}static{this.VG_LOAD_START="loadstart"}static{this.VG_PAUSE="pause"}static{this.VG_PLAY="play"}static{this.VG_PLAYING="playing"}static{this.VG_PROGRESS="progress"}static{this.VG_RATE_CHANGE="ratechange"}static{this.VG_SEEK="seek"}static{this.VG_SEEKED="seeked"}static{this.VG_SEEKING="seeking"}static{this.VG_STALLED="stalled"}static{this.VG_SUSPEND="suspend"}static{this.VG_TIME_UPDATE="timeupdate"}static{this.VG_VOLUME_CHANGE="volumechange"}static{this.VG_WAITING="waiting"}static{this.VG_LOAD="load"}static{this.VG_ENTER="enter"}static{this.VG_EXIT="exit"}static{this.VG_START_ADS="startads"}static{this.VG_END_ADS="endads"}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275prov=F({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var ae=(()=>{class s{constructor(e,t){this.api=e,this.ref=t,this.state=h.VG_PAUSED,this.time={current:0,total:0,left:0},this.buffer={end:0},this.canPlay=!1,this.canPlayThrough=!1,this.isMetadataLoaded=!1,this.isWaiting=!1,this.isCompleted=!1,this.isLive=!1,this.isBufferDetected=!1,this.checkInterval=200,this.currentPlayPos=0,this.lastPlayPos=0,this.playAtferSync=!1,this.bufferDetected=new te}ngOnInit(){this.vgMedia.nodeName?this.elem=this.vgMedia:this.elem=this.vgMedia.elem,this.api.registerMedia(this),this.subscriptions={abort:c(this.elem,d.VG_ABORT),canPlay:c(this.elem,d.VG_CAN_PLAY),canPlayThrough:c(this.elem,d.VG_CAN_PLAY_THROUGH),durationChange:c(this.elem,d.VG_DURATION_CHANGE),emptied:c(this.elem,d.VG_EMPTIED),encrypted:c(this.elem,d.VG_ENCRYPTED),ended:c(this.elem,d.VG_ENDED),error:c(this.elem,d.VG_ERROR),loadedData:c(this.elem,d.VG_LOADED_DATA),loadedMetadata:c(this.elem,d.VG_LOADED_METADATA),loadStart:c(this.elem,d.VG_LOAD_START),pause:c(this.elem,d.VG_PAUSE),play:c(this.elem,d.VG_PLAY),playing:c(this.elem,d.VG_PLAYING),progress:c(this.elem,d.VG_PROGRESS),rateChange:c(this.elem,d.VG_RATE_CHANGE),seeked:c(this.elem,d.VG_SEEKED),seeking:c(this.elem,d.VG_SEEKING),stalled:c(this.elem,d.VG_STALLED),suspend:c(this.elem,d.VG_SUSPEND),timeUpdate:c(this.elem,d.VG_TIME_UPDATE),volumeChange:c(this.elem,d.VG_VOLUME_CHANGE),waiting:c(this.elem,d.VG_WAITING),startAds:c(window,d.VG_START_ADS),endAds:c(window,d.VG_END_ADS),mutation:new ce(e=>{let t=new MutationObserver(i=>{e.next(i)});return t.observe(this.elem,{childList:!0,attributes:!0}),()=>{t.disconnect()}}),bufferDetected:this.bufferDetected},this.mutationObs=this.subscriptions.mutation.subscribe(this.onMutation.bind(this)),this.canPlayObs=this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this)),this.canPlayThroughObs=this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this)),this.loadedMetadataObs=this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this)),this.waitingObs=this.subscriptions.waiting.subscribe(this.onWait.bind(this)),this.progressObs=this.subscriptions.progress.subscribe(this.onProgress.bind(this)),this.endedObs=this.subscriptions.ended.subscribe(this.onComplete.bind(this)),this.playingObs=this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this)),this.playObs=this.subscriptions.play.subscribe(this.onPlay.bind(this)),this.pauseObs=this.subscriptions.pause.subscribe(this.onPause.bind(this)),this.timeUpdateObs=this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this)),this.volumeChangeObs=this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this)),this.errorObs=this.subscriptions.error.subscribe(this.onError.bind(this)),this.vgMaster&&this.api.playerReadyEvent.subscribe(()=>{this.prepareSync()})}prepareSync(){let e=[];for(let t in this.api.medias)this.api.medias[t]&&e.push(this.api.medias[t].subscriptions.canPlay);this.canPlayAllSubscription=de(e).pipe(ue((...t)=>{let i=o=>o?.target?o.target.readyState===4:!1;t.some(i)&&!this.syncSubscription&&(this.startSync(),this.syncSubscription.unsubscribe())})).subscribe()}startSync(){this.syncSubscription=ie(0,1e3).subscribe(()=>{for(let e in this.api.medias)if(this.api.medias[e]!==this){let t=this.api.medias[e].currentTime-this.currentTime;t<-.3||t>.3?(this.playAtferSync=this.state===h.VG_PLAYING,this.pause(),this.api.medias[e].pause(),this.api.medias[e].currentTime=this.currentTime):this.playAtferSync&&(this.play(),this.api.medias[e].play(),this.playAtferSync=!1)}})}onMutation(e){for(let t=0,i=e.length;t<i;t++){let n=e[t];if(n.type==="attributes"&&n.attributeName==="src"){if(n.target.src&&n.target.src.length>0&&n.target.src.indexOf("blob:")<0){this.loadMedia();break}}else if(n.type==="childList"&&n.removedNodes.length&&n.removedNodes[0].nodeName.toLowerCase()==="source"){this.loadMedia();break}}}loadMedia(){this.vgMedia.pause(),this.vgMedia.currentTime=0,this.stopBufferCheck(),this.isBufferDetected=!0,this.bufferDetected.next(this.isBufferDetected),setTimeout(()=>this.vgMedia.load(),10)}play(){if(!(this.playPromise||this.state!==h.VG_PAUSED&&this.state!==h.VG_ENDED))return this.playPromise=this.vgMedia.play(),this.playPromise&&this.playPromise.then&&this.playPromise.catch&&this.playPromise.then(()=>{this.playPromise=null}).catch(()=>{this.playPromise=null}),this.playPromise}pause(){this.playPromise?this.playPromise.then(()=>{this.vgMedia.pause()}):this.vgMedia.pause()}get id(){let e;return this.vgMedia&&(e=this.vgMedia.id),e}get duration(){return this.vgMedia.duration===1/0?this.specifiedDuration:this.vgMedia.duration}set currentTime(e){this.vgMedia.currentTime=e}get currentTime(){return this.vgMedia.currentTime}set volume(e){this.vgMedia.volume=e}get volume(){return this.vgMedia.volume}set playbackRate(e){this.vgMedia.playbackRate=e}get playbackRate(){return this.vgMedia.playbackRate}get buffered(){return this.vgMedia.buffered}get textTracks(){return this.vgMedia.textTracks}onCanPlay(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlay=!0,this.ref.detectChanges()}onCanPlayThrough(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlayThrough=!0,this.ref.detectChanges()}onLoadMetadata(e){this.isMetadataLoaded=!0,this.time={current:0,left:0,total:this.duration*1e3},this.state=h.VG_PAUSED;let t=Math.round(this.time.total);this.isLive=t===1/0,this.ref.detectChanges()}onWait(e){this.isWaiting=!0,this.ref.detectChanges()}onComplete(e){this.isCompleted=!0,this.state=h.VG_ENDED,this.ref.detectChanges()}onStartPlaying(e){this.state=h.VG_PLAYING,this.ref.detectChanges()}onPlay(e){this.state=h.VG_PLAYING,this.vgMaster&&(!this.syncSubscription||this.syncSubscription.closed)&&this.startSync(),this.startBufferCheck(),this.ref.detectChanges()}onPause(e){this.state=h.VG_PAUSED,this.vgMaster&&(this.playAtferSync||this.syncSubscription.unsubscribe()),this.stopBufferCheck(),this.ref.detectChanges()}onTimeUpdate(e){let t=this.buffered.length-1;this.time={current:this.currentTime*1e3,total:this.time.total,left:(this.duration-this.currentTime)*1e3},t>=0&&(this.buffer={end:this.buffered.end(t)*1e3}),this.ref.detectChanges()}onProgress(e){let t=this.buffered.length-1;t>=0&&(this.buffer={end:this.buffered.end(t)*1e3}),this.ref.detectChanges()}onVolumeChange(e){this.ref.detectChanges()}onError(e){this.ref.detectChanges()}bufferCheck(){let e=1/this.checkInterval;this.currentPlayPos=this.currentTime,!this.isBufferDetected&&this.currentPlayPos<this.lastPlayPos+e&&(this.isBufferDetected=!0),this.isBufferDetected&&this.currentPlayPos>this.lastPlayPos+e&&(this.isBufferDetected=!1),this.bufferDetected.closed||this.bufferDetected.next(this.isBufferDetected),this.lastPlayPos=this.currentPlayPos}startBufferCheck(){this.checkBufferSubscription=ie(0,this.checkInterval).subscribe(()=>{this.bufferCheck()})}stopBufferCheck(){this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected)}seekTime(e,t=!1){let i,n=this.duration;t?i=e*n/100:i=e,this.currentTime=i}addTextTrack(e,t,i,n){let o=this.vgMedia.addTextTrack(e,t,i);return n&&(o.mode=n),o}ngOnDestroy(){this.vgMedia.src="",this.mutationObs?.unsubscribe(),this.canPlayObs?.unsubscribe(),this.canPlayThroughObs?.unsubscribe(),this.loadedMetadataObs?.unsubscribe(),this.waitingObs?.unsubscribe(),this.progressObs?.unsubscribe(),this.endedObs?.unsubscribe(),this.playingObs?.unsubscribe(),this.playObs?.unsubscribe(),this.pauseObs?.unsubscribe(),this.timeUpdateObs?.unsubscribe(),this.volumeChangeObs?.unsubscribe(),this.errorObs?.unsubscribe(),this.checkBufferSubscription?.unsubscribe(),this.syncSubscription?.unsubscribe(),this.bufferDetected?.complete(),this.bufferDetected?.unsubscribe(),this.api.unregisterMedia(this)}static{this.\u0275fac=function(t){return new(t||s)(l(b),l(ne))}}static{this.\u0275dir=me({type:s,selectors:[["","vgMedia",""]],inputs:{vgMedia:"vgMedia",vgMaster:"vgMaster"},standalone:!1})}}return s})(),xe=(()=>{class s{constructor(e,t,i,n){this.api=t,this.fsAPI=i,this.controlsHidden=n,this.isFullscreen=!1,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.onPlayerReady=new U,this.onMediaReady=new U,this.subscriptions=[],this.elem=e.nativeElement,this.api.registerElement(this.elem)}ngAfterContentInit(){this.medias.toArray().forEach(e=>{this.api.registerMedia(e)}),this.fsAPI.init(this.elem,this.medias),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.api.onPlayerReady(this.fsAPI),this.onPlayerReady.emit(this.api)}onChangeFullscreen(e){this.fsAPI.nativeFullscreen?this.isNativeFullscreen=e:(this.isFullscreen=e,this.zIndex=e?q.getZIndex().toString():"auto")}onHideControls(e){this.areControlsHidden=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b),l(H),l(I))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-player"]],contentQueries:function(t,i,n){if(t&1&&Pe(n,ae,5),t&2){let o;j(o=$())&&(i.medias=o)}},hostVars:8,hostBindings:function(t,i){t&2&&(A("z-index",i.zIndex),k("fullscreen",i.isFullscreen)("native-fullscreen",i.isNativeFullscreen)("controls-hidden",i.areControlsHidden))},outputs:{onPlayerReady:"onPlayerReady",onMediaReady:"onMediaReady"},standalone:!1,features:[Ve([b,H,I])],ngContentSelectors:ze,decls:1,vars:0,template:function(t,i){t&1&&(L(),N(0))},styles:[`vg-player{font-family:videogular;position:relative;display:flex;width:100%;height:100%;overflow:hidden;background-color:#000}vg-player.fullscreen{position:fixed;left:0;top:0}vg-player.native-fullscreen.controls-hidden{cursor:none}
`],encapsulation:2})}}return s})(),qe=[b,I,H,q,d,h];var T=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275mod=x({type:s})}static{this.\u0275inj=D({providers:[...qe],imports:[_]})}}return s})();var Ae=(()=>{class s{constructor(e,t){this.API=t,this.checkInterval=50,this.currentPlayPos=0,this.lastPlayPos=0,this.subscriptions=[],this.isBuffering=!1,this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(e=>this.onUpdateBuffer(e)))}onUpdateBuffer(e){this.isBuffering=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-buffering"]],hostVars:2,hostBindings:function(t,i){t&2&&k("is-buffering",i.isBuffering)},inputs:{vgFor:"vgFor"},standalone:!1,decls:3,vars:0,consts:[[1,"vg-buffering"],[1,"bufferingContainer"],[1,"loadingSpinner"]],template:function(t,i){t&1&&(a(0,"div",0)(1,"div",1),g(2,"div",2),u()())},styles:[`vg-buffering{display:none;z-index:201}vg-buffering.is-buffering{display:block}.vg-buffering{position:absolute;display:block;width:100%;height:100%}.vg-buffering .bufferingContainer{width:100%;position:absolute;cursor:pointer;top:50%;margin-top:-50px;zoom:1;filter:alpha(opacity=60);opacity:.6}.vg-buffering .loadingSpinner{background-color:#0000;border:5px solid rgba(255,255,255,1);opacity:.9;border-top:5px solid rgba(0,0,0,0);border-left:5px solid rgba(0,0,0,0);border-radius:50px;box-shadow:0 0 35px #fff;width:50px;height:50px;margin:0 auto;-moz-animation:spin .5s infinite linear;-webkit-animation:spin .5s infinite linear}.vg-buffering .loadingSpinner .stop{-webkit-animation-play-state:paused;-moz-animation-play-state:paused}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(360deg)}}@-moz-keyframes spinoff{0%{-moz-transform:rotate(0deg)}to{-moz-transform:rotate(-360deg)}}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(360deg)}}@-webkit-keyframes spinoff{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(-360deg)}}
`],encapsulation:2})}}return s})(),Ie=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275mod=x({type:s})}static{this.\u0275inj=D({imports:[_,T]})}}return s})();var le=["*"],Ye=["volumeBar"],We=s=>({dragging:s});function Ze(s,r){s&1&&(a(0,"span"),S(1,"LIVE"),u())}function Qe(s,r){if(s&1&&(a(0,"span"),S(1),Se(2,"vgUtc"),u()),s&2){let e=C();v(),ke(Ee(2,1,e.getTime(),e.vgFormat))}}function Xe(s,r){s&1&&g(0,"span",2)}var Te=(()=>{class s{constructor(e,t,i){this.API=e,this.hidden=i,this.isAdsPlaying="initial",this.hideControls=!1,this.vgAutohide=!1,this.vgAutohideTime=3,this.subscriptions=[],this.elem=t.nativeElement}ngOnInit(){this.mouseMove$=c(this.API.videogularElement,"mousemove"),this.subscriptions.push(this.mouseMove$.subscribe(this.show.bind(this))),this.touchStart$=c(this.API.videogularElement,"touchstart"),this.subscriptions.push(this.touchStart$.subscribe(this.show.bind(this))),this.mouseClick$=c(this.API.videogularElement,"click"),this.subscriptions.push(this.mouseClick$.subscribe(this.show.bind(this))),this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this))),this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this))),this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this))),this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this)))}ngAfterViewInit(){this.vgAutohide?this.hide():this.show()}onPlay(){this.vgAutohide&&this.hide()}onPause(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1)}onStartAds(){this.isAdsPlaying="none"}onEndAds(){this.isAdsPlaying="initial"}hide(){this.vgAutohide&&(clearTimeout(this.timer),this.hideAsync())}show(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1),this.vgAutohide&&this.hideAsync()}hideAsync(){this.API.state===h.VG_PLAYING&&(this.timer=setTimeout(()=>{this.hideControls=!0,this.hidden.state(!0)},this.vgAutohideTime*1e3))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(b),l(P),l(I))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-controls"]],hostVars:4,hostBindings:function(t,i){t&2&&(A("pointer-events",i.isAdsPlaying),k("hide",i.hideControls))},inputs:{vgFor:"vgFor",vgAutohide:"vgAutohide",vgAutohideTime:"vgAutohideTime"},standalone:!1,ngContentSelectors:le,decls:1,vars:0,template:function(t,i){t&1&&(L(),N(0))},styles:[`vg-controls{position:absolute;display:flex;width:100%;height:50px;z-index:300;bottom:0;background-color:#00000080;-webkit-transition:bottom 1s;-khtml-transition:bottom 1s;-moz-transition:bottom 1s;-ms-transition:bottom 1s;transition:bottom 1s}vg-controls.hide{bottom:-50px}
`],encapsulation:2})}}return s})(),Fe=(()=>{class s{constructor(e,t){this.API=t,this.subscriptions=[],this.elem=e.nativeElement,this.isDragging=!1}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.ariaValue=this.getVolume()*100}onClick(e){this.setVolume(this.calculateVolume(e.clientX))}onMouseDown(e){this.mouseDownPosX=e.clientX,this.isDragging=!0}onDrag(e){this.isDragging&&this.setVolume(this.calculateVolume(e.clientX))}onStopDrag(e){this.isDragging&&(this.isDragging=!1,this.mouseDownPosX===e.clientX&&this.setVolume(this.calculateVolume(e.clientX)))}arrowAdjustVolume(e){e.keyCode===38||e.keyCode===39?(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,this.getVolume()*100+10)))):(e.keyCode===37||e.keyCode===40)&&(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,this.getVolume()*100-10))))}calculateVolume(e){let t=this.volumeBarRef.nativeElement.getBoundingClientRect(),i=t.left,n=t.width;return(e-i)/n*100}setVolume(e){this.target.volume=Math.max(0,Math.min(1,e/100)),this.ariaValue=this.target.volume*100}getVolume(){return this.target?this.target.volume:0}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-volume"]],viewQuery:function(t,i){if(t&1&&Z(Ye,7),t&2){let n;j(n=$())&&(i.volumeBarRef=n.first)}},hostBindings:function(t,i){t&1&&p("mousemove",function(o){return i.onDrag(o)},!1,M)("mouseup",function(o){return i.onStopDrag(o)},!1,M)("keydown",function(o){return i.arrowAdjustVolume(o)})},inputs:{vgFor:"vgFor"},standalone:!1,decls:5,vars:9,consts:[["volumeBar",""],["tabindex","0","role","slider","aria-label","volume level","aria-level","polite","aria-valuemin","0","aria-valuemax","100","aria-orientation","horizontal",1,"volumeBar",3,"click","mousedown"],[1,"volumeBackground",3,"ngClass"],[1,"volumeValue"],[1,"volumeKnob"]],template:function(t,i){if(t&1){let n=w();a(0,"div",1,0),p("click",function(V){return f(n),m(i.onClick(V))})("mousedown",function(V){return f(n),m(i.onMouseDown(V))}),a(2,"div",2),g(3,"div",3)(4,"div",4),u()()}t&2&&(O("aria-valuenow",i.ariaValue)("aria-valuetext",i.ariaValue+"%"),v(2),E("ngClass",we(7,We,i.isDragging)),v(),A("width",i.getVolume()*85+"%"),v(),A("left",i.getVolume()*85+"%"))},dependencies:[Me],styles:[`vg-volume{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:100px;cursor:pointer;color:#fff;line-height:50px}vg-volume .volumeBar{position:relative;display:flex;flex-grow:1;align-items:center}vg-volume .volumeBackground{display:flex;flex-grow:1;height:5px;pointer-events:none;background-color:#333}vg-volume .volumeValue{display:flex;height:5px;pointer-events:none;background-color:#fff;transition:all .2s ease-out}vg-volume .volumeKnob{position:absolute;width:15px;height:15px;left:0;top:50%;transform:translateY(-50%);border-radius:15px;pointer-events:none;background-color:#fff;transition:all .2s ease-out}vg-volume .volumeBackground.dragging .volumeValue,vg-volume .volumeBackground.dragging .volumeKnob{transition:none}
`],encapsulation:2})}}return s})();var Je=(()=>{class s{transform(e,t){let i=new Date(e),n=t,o=i.getUTCSeconds(),V=i.getUTCMinutes(),Y=i.getUTCHours();return o<10&&(o="0"+o),V<10&&(V="0"+V),Y<10&&(Y="0"+Y),n=n.replace(/ss/g,o),n=n.replace(/mm/g,V),n=n.replace(/hh/g,Y),n}static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275pipe=ve({name:"vgUtc",type:s,pure:!0,standalone:!1})}}return s})(),Be=(()=>{class s{constructor(e,t){this.API=t,this.vgProperty="current",this.vgFormat="mm:ss",this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getTime(){let e=0;return this.target&&(e=Math.round(this.target.time[this.vgProperty]),e=isNaN(e)||this.target.isLive?0:e),e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-time-display"]],inputs:{vgFor:"vgFor",vgProperty:"vgProperty",vgFormat:"vgFormat"},standalone:!1,ngContentSelectors:le,decls:3,vars:2,consts:[[4,"ngIf"]],template:function(t,i){t&1&&(L(),R(0,Ze,2,0,"span",0)(1,Qe,3,4,"span",0),N(2)),t&2&&(E("ngIf",i.target==null?null:i.target.isLive),v(),E("ngIf",!(i.target!=null&&i.target.isLive)))},dependencies:[oe,Je],styles:[`vg-time-display{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:60px;cursor:pointer;color:#fff;line-height:50px;pointer-events:none;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}
`],encapsulation:2})}}return s})(),Re=(()=>{class s{constructor(e,t,i){this.API=t,this.hideScrubBar=!1,this.vgSlider=!0,this.isSeeking=!1,this.wasPlaying=!1,this.subscriptions=[],this.elem=e.nativeElement,this.subscriptions.push(i.isHidden.subscribe(n=>this.onHideScrubBar(n)))}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}seekStart(){this.target.canPlay&&(this.isSeeking=!0,this.target.state===h.VG_PLAYING&&(this.wasPlaying=!0),this.target.pause())}seekMove(e){if(this.isSeeking){let t=Math.max(Math.min(e*100/this.elem.scrollWidth,99.9),0);this.target.time.current=t*this.target.time.total/100,this.target.seekTime(t,!0)}}seekEnd(e){if(this.isSeeking=!1,this.target.canPlay){if(e!==!1){let t=Math.max(Math.min(e*100/this.elem.scrollWidth,99.9),0);this.target.seekTime(t,!0)}this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}}touchEnd(){this.isSeeking=!1,this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}getTouchOffset(e){let t=0,i=e.target;for(;i;)t+=i.offsetLeft,i=i.offsetParent;return e.touches[0].pageX-t}onMouseDownScrubBar(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(e.offsetX)))}onMouseMoveScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(e.offsetX)}onMouseUpScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekEnd(e.offsetX)}onTouchStartScrubBar(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(!1)))}onTouchMoveScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(this.getTouchOffset(e))}onTouchCancelScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}onTouchEndScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}arrowAdjustVolume(e){this.target&&(e.keyCode===38||e.keyCode===39?(e.preventDefault(),this.target.seekTime((this.target.time.current+5e3)/1e3,!1)):(e.keyCode===37||e.keyCode===40)&&(e.preventDefault(),this.target.seekTime((this.target.time.current-5e3)/1e3,!1)))}getPercentage(){return this.target?Math.round(this.target.time.current*100/this.target.time.total)+"%":"0%"}onHideScrubBar(e){this.hideScrubBar=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b),l(I))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-scrub-bar"]],hostVars:2,hostBindings:function(t,i){t&1&&p("mousedown",function(o){return i.onMouseDownScrubBar(o)})("mousemove",function(o){return i.onMouseMoveScrubBar(o)},!1,M)("mouseup",function(o){return i.onMouseUpScrubBar(o)},!1,M)("touchstart",function(o){return i.onTouchStartScrubBar(o)})("touchmove",function(o){return i.onTouchMoveScrubBar(o)},!1,M)("touchcancel",function(o){return i.onTouchCancelScrubBar(o)},!1,M)("touchend",function(o){return i.onTouchEndScrubBar(o)},!1,M)("keydown",function(o){return i.arrowAdjustVolume(o)}),t&2&&k("hide",i.hideScrubBar)},inputs:{vgFor:"vgFor",vgSlider:"vgSlider"},standalone:!1,ngContentSelectors:le,decls:2,vars:2,consts:[["tabindex","0","role","slider","aria-label","scrub bar","aria-level","polite","aria-valuemin","0","aria-valuemax","100",1,"scrubBar"]],template:function(t,i){t&1&&(L(),a(0,"div",0),N(1),u()),t&2&&O("aria-valuenow",i.getPercentage())("aria-valuetext",i.getPercentage())},styles:[`vg-scrub-bar{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:absolute;width:100%;height:5px;bottom:50px;margin:0;cursor:pointer;align-items:center;background:#000000bf;z-index:250;-webkit-transition:bottom 1s,opacity .5s;-khtml-transition:bottom 1s,opacity .5s;-moz-transition:bottom 1s,opacity .5s;-ms-transition:bottom 1s,opacity .5s;transition:bottom 1s,opacity .5s}vg-scrub-bar .scrubBar{position:relative;display:flex;flex-grow:1;align-items:center;height:100%}vg-controls vg-scrub-bar{position:relative;bottom:0;background:transparent;height:50px;flex-grow:1;flex-basis:0;margin:0 10px;-webkit-transition:initial;-khtml-transition:initial;-moz-transition:initial;-ms-transition:initial;transition:initial}vg-scrub-bar.hide{bottom:0;opacity:0}vg-controls vg-scrub-bar.hide{bottom:initial;opacity:initial}
`],encapsulation:2})}}return s})();var Oe=(()=>{class s{constructor(e,t){this.API=t,this.subscriptions=[],this.ariaValue=h.VG_PAUSED,this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onClick(){this.playPause()}onKeyDown(e){(e.keyCode===13||e.keyCode===32)&&(e.preventDefault(),this.playPause())}playPause(){switch(this.getState()){case h.VG_PLAYING:this.target.pause();break;case h.VG_PAUSED:case h.VG_ENDED:this.target.play();break}}getState(){return this.ariaValue=this.target?this.target.state:h.VG_PAUSED,this.ariaValue}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-play-pause"]],hostBindings:function(t,i){t&1&&p("click",function(){return i.onClick()})("keydown",function(o){return i.onKeyDown(o)})},inputs:{vgFor:"vgFor"},standalone:!1,decls:1,vars:6,consts:[["tabindex","0","role","button",1,"icon"]],template:function(t,i){t&1&&g(0,"div",0),t&2&&(k("vg-icon-pause",i.getState()==="playing")("vg-icon-play_arrow",i.getState()==="paused"||i.getState()==="ended"),O("aria-label",i.getState()==="paused"?"play":"pause")("aria-valuetext",i.ariaValue))},styles:[`vg-play-pause{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:50px;cursor:pointer;color:#fff;line-height:50px}vg-play-pause .icon{pointer-events:none}
`],encapsulation:2})}}return s})();var He=(()=>{class s{constructor(e,t,i){this.API=t,this.fsAPI=i,this.isFullscreen=!1,this.subscriptions=[],this.ariaValue="normal mode",this.elem=e.nativeElement,this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)))}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onChangeFullscreen(e){this.ariaValue=e?"fullscreen mode":"normal mode",this.isFullscreen=e}onClick(){this.changeFullscreenState()}onKeyDown(e){(e.keyCode===13||e.keyCode===32)&&(e.preventDefault(),this.changeFullscreenState())}changeFullscreenState(){let e=this.target;this.target instanceof b&&(e=null),this.fsAPI.toggleFullscreen(e)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b),l(H))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-fullscreen"]],hostBindings:function(t,i){t&1&&p("click",function(){return i.onClick()})("keydown",function(o){return i.onKeyDown(o)})},standalone:!1,decls:1,vars:5,consts:[["tabindex","0","role","button","aria-label","fullscreen",1,"icon"]],template:function(t,i){t&1&&g(0,"div",0),t&2&&(k("vg-icon-fullscreen",!i.isFullscreen)("vg-icon-fullscreen_exit",i.isFullscreen),O("aria-valuetext",i.ariaValue))},styles:[`vg-fullscreen{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:50px;cursor:pointer;color:#fff;line-height:50px}vg-fullscreen .icon{pointer-events:none}
`],encapsulation:2})}}return s})(),Ge=(()=>{class s{constructor(e,t){this.API=t,this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getBufferTime(){let e="0%";return this.target?.buffered?.length&&(this.target.time.total===0?e="0%":e=this.target.buffer.end/this.target.time.total*100+"%"),e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-scrub-bar-buffering-time"]],inputs:{vgFor:"vgFor"},standalone:!1,decls:1,vars:2,consts:[[1,"background"]],template:function(t,i){t&1&&g(0,"div",0),t&2&&A("width",i.getBufferTime())},styles:[`vg-scrub-bar-buffering-time{display:flex;width:100%;height:5px;pointer-events:none;position:absolute}vg-scrub-bar-buffering-time .background{background-color:#ffffff4d}vg-controls vg-scrub-bar-buffering-time{position:absolute;top:calc(50% - 3px)}vg-controls vg-scrub-bar-buffering-time .background{-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}
`],encapsulation:2})}}return s})();var Le=(()=>{class s{constructor(e,t){this.API=t,this.vgSlider=!1,this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getPercentage(){return this.target?Math.round(this.target.time.current*100/this.target.time.total)+"%":"0%"}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-scrub-bar-current-time"]],inputs:{vgFor:"vgFor",vgSlider:"vgSlider"},standalone:!1,decls:2,vars:3,consts:[[1,"background"],["class","slider",4,"ngIf"],[1,"slider"]],template:function(t,i){t&1&&(g(0,"div",0),R(1,Xe,1,0,"span",1)),t&2&&(A("width",i.getPercentage()),v(),E("ngIf",i.vgSlider))},dependencies:[oe],styles:[`vg-scrub-bar-current-time{display:flex;width:100%;height:5px;pointer-events:none;position:absolute}vg-scrub-bar-current-time .background{background-color:#fff}vg-controls vg-scrub-bar-current-time{position:absolute;top:calc(50% - 3px);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}vg-controls vg-scrub-bar-current-time .background{border:1px solid white;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}vg-scrub-bar-current-time .slider{background:#fff;height:15px;width:15px;border-radius:50%;box-shadow:0 0 10px #000;margin-top:-5px;margin-left:-10px}
`],encapsulation:2})}}return s})();var Ne=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275mod=x({type:s})}static{this.\u0275inj=D({imports:[_,T]})}}return s})();var je=(()=>{class s{constructor(e,t,i,n){this.API=t,this.fsAPI=i,this.controlsHidden=n,this.vgSkipIfControlsHidden=!1,this.vgSkipIfControlsHiddenDelay=.5,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.areControlsHiddenChangeTime=0,this.subscriptions=[],this.isBuffering=!1,this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(e=>this.onUpdateBuffer(e)))}onUpdateBuffer(e){this.isBuffering=e}onChangeFullscreen(e){this.fsAPI.nativeFullscreen&&(this.isNativeFullscreen=e)}onHideControls(e){this.vgSkipIfControlsHidden&&this.areControlsHidden!=e&&(this.areControlsHiddenChangeTime=Date.now()),this.areControlsHidden=e}onClick(){if(this.vgSkipIfControlsHidden&&(this.areControlsHidden||Date.now()-this.areControlsHiddenChangeTime<this.vgSkipIfControlsHiddenDelay*1e3))return;switch(this.getState()){case h.VG_PLAYING:this.target.pause();break;case h.VG_PAUSED:case h.VG_ENDED:this.target.play();break}}getState(){let e=h.VG_PAUSED;if(this.target)if(this.target.state instanceof Array){for(let t=0,i=this.target.state.length;t<i;t++)if(this.target.state[t]===h.VG_PLAYING){e=h.VG_PLAYING;break}}else e=this.target.state;return e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}static{this.\u0275fac=function(t){return new(t||s)(l(P),l(b),l(H),l(I))}}static{this.\u0275cmp=y({type:s,selectors:[["vg-overlay-play"]],hostVars:2,hostBindings:function(t,i){t&1&&p("click",function(){return i.onClick()}),t&2&&k("is-buffering",i.isBuffering)},inputs:{vgFor:"vgFor",vgSkipIfControlsHidden:"vgSkipIfControlsHidden",vgSkipIfControlsHiddenDelay:"vgSkipIfControlsHiddenDelay"},standalone:!1,decls:2,vars:6,consts:[[1,"vg-overlay-play"],[1,"overlay-play-container"]],template:function(t,i){t&1&&(a(0,"div",0),g(1,"div",1),u()),t&2&&(k("native-fullscreen",i.isNativeFullscreen)("controls-hidden",i.areControlsHidden),v(),k("vg-icon-play_arrow",i.getState()!=="playing"))},styles:[`vg-overlay-play{z-index:200}vg-overlay-play.is-buffering{display:none}vg-overlay-play .vg-overlay-play{transition:all .5s;cursor:pointer;position:absolute;display:block;color:#fff;width:100%;height:100%;font-size:80px;filter:alpha(opacity=60);opacity:.6}vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden{cursor:none}vg-overlay-play .vg-overlay-play .overlay-play-container.vg-icon-play_arrow{pointer-events:none;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;font-size:80px}vg-overlay-play .vg-overlay-play:hover{filter:alpha(opacity=100);opacity:1}vg-overlay-play .vg-overlay-play:hover .overlay-play-container.vg-icon-play_arrow:before{transform:scale(1.2)}
`],encapsulation:2})}}return s})(),$e=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275mod=x({type:s})}static{this.\u0275inj=D({imports:[_,T]})}}return s})();var st=["media"],nt=(s,r)=>r.token;function rt(s,r){if(s&1){let e=w();a(0,"button",31),p("click",function(){f(e);let i=C(3);return m(i.seekBackward())}),a(1,"div",32)(2,"span",33),S(3,"-10"),u()()()}}function ot(s,r){if(s&1){let e=w();a(0,"button",34),p("click",function(){f(e);let i=C(3);return m(i.seekForward())}),a(1,"div",32)(2,"span",33),S(3,"+10"),u()()()}}function at(s,r){if(s&1&&(a(0,"div",8),R(1,rt,4,0,"button",29)(2,ot,4,0,"button",30),u()),s&2){let e=r.$implicit;v(),z(e.direction==="backward"?1:-1),v(),z(e.direction==="forward"?2:-1)}}function lt(s,r){s&1&&(B(),a(0,"svg",19),g(1,"path",35)(2,"path",36),u())}function ct(s,r){s&1&&(B(),a(0,"svg",19),g(1,"path",35)(2,"path",37)(3,"path",38),u())}function ut(s,r){if(s&1){let e=w();a(0,"vg-player",5)(1,"video",7,1),p("click",function(){f(e);let i=C();return m(i.onVideoClick())})("dblclick",function(i){f(e);let n=C();return m(n.onVideoDoubleClick(i))}),u(),g(3,"vg-overlay-play")(4,"vg-buffering"),ye(5,at,3,2,"div",8,nt),a(7,"vg-controls",9),g(8,"vg-play-pause",10)(9,"vg-time-display",11),a(10,"vg-scrub-bar",12),g(11,"vg-scrub-bar-current-time",13)(12,"vg-scrub-bar-buffering-time",14),u(),g(13,"vg-time-display",15)(14,"vg-volume",16)(15,"vg-fullscreen",10),u(),a(16,"div",17)(17,"button",18),p("click",function(){f(e);let i=C();return m(i.seekBackward())}),B(),a(18,"svg",19),g(19,"path",20),u()(),W(),a(20,"button",21),p("click",function(){f(e);let i=C();return m(i.toggleMute())}),R(21,lt,3,0,":svg:svg",19)(22,ct,4,0,":svg:svg",19),u()(),a(23,"div",22)(24,"button",23),p("click",function(){f(e);let i=C();return m(i.seekForward())}),B(),a(25,"svg",19),g(26,"path",24),u()(),W(),a(27,"button",25),p("click",function(){f(e),C();let i=Q(2);return m(i.click())}),B(),a(28,"svg",19),g(29,"path",26),u()(),W(),a(30,"button",27),p("click",function(){f(e);let i=C();return m(i.removeVideo())}),B(),a(31,"svg",19),g(32,"path",28),u()()()()}if(s&2){let e=Q(2),t=C(),i=_e(4);v(),E("vgMedia",e)("src",i,ge),v(4),be(t.seekOverlayList()),v(2),E("vgAutohide",!0)("vgAutohideTime",2),v(13),E("title",e!=null&&e.muted?"Unmute":"Mute"),O("aria-label",e!=null&&e.muted?"Unmute":"Mute"),v(),z(e!=null&&e.muted?21:22)}}function dt(s,r){if(s&1){let e=w();a(0,"button",39),p("click",function(){f(e),C();let i=Q(2);return m(i.click())}),S(1," Drag & drop a video here, or click to upload "),u()}if(s&2){let e=C();k("border-sky-500",e.isDragOver())("text-slate-200",e.isDragOver())}}var ee=class s{videoUrl=pe(null);videoUploaded=he();uploadedUrl=G(null);isDragOver=G(!1);effectiveVideoUrl=re(()=>this.uploadedUrl()??this.videoUrl());seekOverlay=G(null);seekOverlayList=re(()=>{let r=this.seekOverlay();return r?[r]:[]});media;hideSeekOverlayTimeout;seekOverlayToken=0;clickTimeout;SEEK_STEP_SECONDS=10;CLICK_DELAY_MS=250;SEEK_ZONE_RATIO=.25;lastClickPlayState;constructor(){De(r=>{let e=this.uploadedUrl();e&&r(()=>URL.revokeObjectURL(e))})}ngOnDestroy(){this.hideSeekOverlayTimeout&&clearTimeout(this.hideSeekOverlayTimeout),this.clickTimeout&&clearTimeout(this.clickTimeout)}onFileSelected(r){let e=r.target,t=e.files?.[0];t&&this.processFile(t),e.value=""}onKeydown(r){let e=r.target;if(e?.tagName==="INPUT"||e?.tagName==="TEXTAREA"||e?.isContentEditable)return;if(r.code==="Space"||r.key===" "){r.preventDefault(),this.togglePlayPause();return}if(r.key==="ArrowRight"||r.key==="l"||r.key==="L"){r.preventDefault(),this.seekForward();return}if(r.key==="ArrowLeft"||r.key==="j"||r.key==="J"){r.preventDefault(),this.seekBackward();return}let t=Number(r.key);if(!Number.isInteger(t)||t<0||t>9)return;let i=this.media?.nativeElement;if(!i||!isFinite(i.duration)||i.duration<=0)return;let n=t/10;i.currentTime=i.duration*n}onDragOver(r){r.preventDefault(),this.isDragOver.set(!0)}onDragLeave(r){r.preventDefault(),this.isDragOver.set(!1)}removeVideo(){let r=this.media?.nativeElement;r&&(r.pause(),r.currentTime=0,r.removeAttribute("src"),r.load()),this.uploadedUrl.set(null)}togglePlayPause(){let r=this.media?.nativeElement;r&&(r.paused?r.play():r.pause())}toggleMute(){let r=this.media?.nativeElement;r&&(r.muted=!r.muted)}onVideoClick(){this.clickTimeout||(this.clickTimeout=setTimeout(()=>{let r=this.media?.nativeElement;if(!r){this.clickTimeout=void 0;return}let e=r.paused;this.togglePlayPause(),this.lastClickPlayState={wasPaused:e,timestamp:Date.now()},this.clickTimeout=void 0},this.CLICK_DELAY_MS))}onVideoDoubleClick(r){let e=this.media?.nativeElement;if(!e)return;this.clickTimeout?(clearTimeout(this.clickTimeout),this.clickTimeout=void 0):this.lastClickPlayState&&Date.now()-this.lastClickPlayState.timestamp<this.CLICK_DELAY_MS*2&&(this.lastClickPlayState.wasPaused?e.pause():e.play()),this.lastClickPlayState=void 0;let t=e.getBoundingClientRect(),i=r.clientX-t.left,n=t.width*this.SEEK_ZONE_RATIO;if(i<=n){this.seekBackward();return}i>=t.width-n&&this.seekForward()}seekForward(){this.seekBy(this.SEEK_STEP_SECONDS)}seekBackward(){this.seekBy(-this.SEEK_STEP_SECONDS)}onDrop(r){r.preventDefault(),this.isDragOver.set(!1);let e=r.dataTransfer?.files?.[0];!e||!e.type.startsWith("video/")||this.processFile(e)}processFile(r){r.type.startsWith("video/")&&(this.uploadedUrl.set(URL.createObjectURL(r)),this.videoUploaded.emit(r))}seekBy(r){let e=this.media?.nativeElement;if(!e||!isFinite(e.duration)||e.duration<=0)return;let t=Math.min(e.duration,Math.max(0,e.currentTime+r));e.currentTime=t,this.showSeekOverlay(r>=0?"forward":"backward")}showSeekOverlay(r){let e=++this.seekOverlayToken;this.seekOverlay.set({direction:r,token:e}),this.hideSeekOverlayTimeout&&clearTimeout(this.hideSeekOverlayTimeout),this.hideSeekOverlayTimeout=setTimeout(()=>{this.seekOverlay()?.token===e&&this.seekOverlay.set(null)},650)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=y({type:s,selectors:[["app-video-player"]],viewQuery:function(e,t){if(e&1&&Z(st,5),e&2){let i;j(i=$())&&(t.media=i.first)}},hostBindings:function(e,t){e&1&&p("keydown",function(n){return t.onKeydown(n)},!1,fe)},inputs:{videoUrl:[1,"videoUrl"]},outputs:{videoUploaded:"videoUploaded"},decls:7,vars:2,consts:[["filePicker",""],["media",""],[1,"rounded-2xl","border","border-slate-800","bg-slate-900/90","p-4","shadow-xl","backdrop-blur",3,"dragover","dragenter","dragleave","drop"],["type","file","accept","video/*",1,"hidden",3,"change"],[1,"relative"],[1,"block","overflow-hidden","rounded-xl","border","border-slate-800","bg-black","shadow-lg"],["type","button",1,"flex","aspect-[16/9]","min-h-[320px]","w-full","items-center","justify-center","rounded-xl","border","border-dashed","border-slate-700","bg-slate-900/60","text-center","text-slate-400","transition","hover:-translate-y-0.5","hover:border-sky-500","hover:text-slate-200",3,"border-sky-500","text-slate-200"],["id","videogular-player","preload","auto","crossorigin","",1,"h-full","w-full","cursor-pointer","bg-black",3,"click","dblclick","vgMedia","src"],[1,"skip-overlay","skip-overlay--active"],["vgFor","videogular-player",1,"flex","flex-wrap","items-center","gap-2","bg-slate-950/80","px-3","text-slate-100",3,"vgAutohide","vgAutohideTime"],["vgFor","videogular-player"],["vgFor","videogular-player","vgProperty","current","vgFormat","mm:ss"],["vgFor","videogular-player",1,"flex-1"],[1,"bg-sky-500"],[1,"bg-slate-500/40"],["vgFor","videogular-player","vgProperty","left","vgFormat","mm:ss"],["vgFor","videogular-player",1,"min-w-24"],[1,"player-actions","player-actions--left"],["type","button","aria-label","Back 10 seconds","title","Back 10 seconds",1,"action-btn",3,"click"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","currentColor",1,"h-5","w-5"],["d","M12 5v3.18C8.5 8.66 6 11.4 6 14.75 6 18.22 8.78 21 12.25 21s6.25-2.78 6.25-6.25h-2a4.25 4.25 0 0 1-8.5 0c0-2.2 1.65-3.98 3.75-4.22V14l5-4-5-4Z"],["type","button",1,"action-btn",3,"click","title"],[1,"player-actions","player-actions--right"],["type","button","aria-label","Forward 10 seconds","title","Forward 10 seconds",1,"action-btn",3,"click"],["d","M12 5v3.18c3.5.48 6 3.22 6 6.57 0 3.47-2.78 6.25-6.25 6.25S5.5 18.22 5.5 14.75h2a4.25 4.25 0 0 0 8.5 0c0-2.2-1.65-3.98-3.75-4.22V14l-5-4 5-4Z"],["type","button","aria-label","Upload another video","title","Upload another video",1,"action-btn",3,"click"],["d","M12 5v14m7-7H5","stroke","currentColor","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["type","button","aria-label","Remove video","title","Remove video",1,"action-btn","action-btn--danger",3,"click"],["d","M9.5 4.5A1.5 1.5 0 0 0 8 6v1H5.5a.75.75 0 0 0 0 1.5h13a.75.75 0 0 0 0-1.5H16V6a1.5 1.5 0 0 0-1.5-1.5h-5Zm4 1.5v1h-3V6a.5.5 0 0 1 .5-.5h2a.5.5 0 0 1 .5.5ZM7.75 10a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5A.75.75 0 0 1 7.75 10Zm4.25.75a.75.75 0 1 0-1.5 0v6.5a.75.75 0 1 0 1.5 0v-6.5Zm3.25-.75a.75.75 0 0 1 .75.75v6.5a.75.75 0 0 1-1.5 0v-6.5a.75.75 0 0 1 .75-.75ZM9 21a2 2 0 0 1-2-2V9.5h10V19a2 2 0 0 1-2 2H9Z"],["type","button",1,"skip-overlay__badge","skip-overlay__badge--back","skip-overlay__badge--active"],["type","button",1,"skip-overlay__badge","skip-overlay__badge--forward","skip-overlay__badge--active"],["type","button",1,"skip-overlay__badge","skip-overlay__badge--back","skip-overlay__badge--active",3,"click"],[1,"skip-overlay__text"],[1,"skip-overlay__label"],["type","button",1,"skip-overlay__badge","skip-overlay__badge--forward","skip-overlay__badge--active",3,"click"],["d","M4 9v6h3.5L12 18.5V5.5L7.5 9H4Z"],["d","m16.95 7.05-1.41 1.41L17.09 10l-1.55 1.54 1.41 1.41L18.5 11.4l1.55 1.55 1.41-1.41L19.91 10l1.55-1.54-1.41-1.41L18.5 8.6l-1.55-1.55Z"],["d","M16.5 8.25a4.75 4.75 0 0 1 0 7.5l-1.06-1.06a3.25 3.25 0 0 0 0-5.38l1.06-1.06Z"],["d","M14.25 10.5a2.5 2.5 0 0 1 0 3.96l-1.04-1.04a1 1 0 0 0 0-1.88l1.04-1.04Z"],["type","button",1,"flex","aspect-[16/9]","min-h-[320px]","w-full","items-center","justify-center","rounded-xl","border","border-dashed","border-slate-700","bg-slate-900/60","text-center","text-slate-400","transition","hover:-translate-y-0.5","hover:border-sky-500","hover:text-slate-200",3,"click"]],template:function(e,t){if(e&1){let i=w();a(0,"div",2),p("dragover",function(o){return f(i),m(t.onDragOver(o))})("dragenter",function(o){return f(i),m(t.onDragOver(o))})("dragleave",function(o){return f(i),m(t.onDragLeave(o))})("drop",function(o){return f(i),m(t.onDrop(o))}),a(1,"input",3,0),p("change",function(o){return f(i),m(t.onFileSelected(o))}),u(),a(3,"div",4),X(4),R(5,ut,33,7,"vg-player",5)(6,dt,2,4,"button",6),u()()}if(e&2){v(4);let i=Ce(t.effectiveVideoUrl());v(),z(i?5:6)}},dependencies:[_,T,ae,xe,Ne,Te,Fe,Be,Re,Oe,He,Ge,Le,$e,je,Ie,Ae],encapsulation:2,changeDetection:0})};var Ue=class s{selectedVideo=G(void 0);onVideoUploaded(r){this.selectedVideo.set(r)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=y({type:s,selectors:[["app-player-page"]],decls:12,vars:1,consts:[[1,"min-h-screen","bg-slate-950","text-slate-50"],[1,"mx-auto","flex","w-full","max-w-7xl","flex-col","gap-6","px-4","py-10","lg:flex-row"],[1,"flex-1","lg:w-7/12","xl:w-8/12"],[1,"flex","items-center","justify-between"],[1,"text-sm","uppercase","tracking-[0.2em]","text-slate-500"],[1,"text-2xl","font-bold","text-slate-50"],[1,"mt-4"],[3,"videoUploaded"]],template:function(e,t){if(e&1){let i=w();a(0,"div",0),X(1),a(2,"div",1)(3,"section",2)(4,"div",3)(5,"div")(6,"p",4),S(7," Now Playing "),u(),a(8,"h1",5),S(9),u()()(),a(10,"div",6)(11,"app-video-player",7),p("videoUploaded",function(o){return f(i),m(t.onVideoUploaded(o))}),u()()()()()}if(e&2){let i,n=t.selectedVideo();v(9),se(" ",(i=n==null?null:n.name)!==null&&i!==void 0?i:"Select a video"," ")}},dependencies:[_,ee],encapsulation:2,changeDetection:0})};export{Ue as PlayerPageComponent};
